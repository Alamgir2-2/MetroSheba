import { useState, useEffect } from "react";
import { FaTrain, FaMapMarkerAlt, FaClock, FaRoute, FaTimes, FaPlay, FaPause, FaInfoCircle, FaWifi, FaParking, FaShoppingCart, FaHospital, FaUniversity, FaBuilding, FaStore } from "react-icons/fa";
import { IoLocation, IoTime, IoSpeedometer, IoNavigate } from "react-icons/io5";
import { MdAccessTime, MdLocationOn, MdTrain, MdDirectionsTransit, MdLocalActivity } from "react-icons/md";
import { RiLiveLine } from "react-icons/ri";

const stations = [
  { 
    id: 1,
    name: "ржЙрждрзНрждрж░рж╛ ржЙрждрзНрждрж░", 
    englishName: "Uttara North",
    code: "UN", 
    time: "рзж ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 0,
    landmark: "ржЙрждрзНрждрж░рж╛ рж╕рзЗржХрзНржЯрж░-рзз", 
    color: "#10b981",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯЪЧ", name: "ржкрж╛рж░рзНржХрж┐ржВ" },
      { icon: "ЁЯПз", name: "ржПржЯрж┐ржПржо" }
    ],
    x: 20,
    y: 8,
    category: "residential",
    description: "ржЙрждрзНрждрж░рж╛ ржПрж▓рж╛ржХрж╛рж░ ржкрзНрж░ржзрж╛ржи рж╕рзНржЯрзЗрж╢ржи"
  },
  { 
    id: 2,
    name: "ржЙрждрзНрждрж░рж╛ рж╕рзЗржирзНржЯрж╛рж░", 
    englishName: "Uttara Center",
    code: "UC", 
    time: "рзи ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 2,
    landmark: "ржЙрждрзНрждрж░рж╛ рж╕рзЗржХрзНржЯрж░-рзй", 
    color: "#059669",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯПе", name: "рж╣рж╛рж╕ржкрж╛рждрж╛рж▓" },
      { icon: "ЁЯН╜я╕П", name: "ржЦрж╛ржмрж╛рж░" }
    ],
    x: 22,
    y: 15,
    category: "commercial",
    description: "ржЙрждрзНрждрж░рж╛рж░ ржХрзЗржирзНржжрзНрж░рзАржпрж╝ ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ ржПрж▓рж╛ржХрж╛"
  },
  { 
    id: 3,
    name: "ржЙрждрзНрждрж░рж╛ ржжржХрзНрж╖рж┐ржг", 
    englishName: "Uttara South",
    code: "US", 
    time: "рзк ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 4,
    landmark: "ржЙрждрзНрждрж░рж╛ рж╕рзЗржХрзНржЯрж░-рзн", 
    color: "#047857",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯПк", name: "ржжрзЛржХрж╛ржи" }
    ],
    x: 25,
    y: 22,
    category: "mixed",
    description: "ржЖржмрж╛рж╕рж┐ржХ ржУ ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ ржорж┐рж╢рзНрж░ ржПрж▓рж╛ржХрж╛"
  },
  { 
    id: 4,
    name: "ржкрж▓рзНрж▓ржмрзА", 
    englishName: "Pallabi",
    code: "PL", 
    time: "рзм ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 6,
    landmark: "ржкрж▓рзНрж▓ржмрзА ржмрж╛ржЬрж╛рж░", 
    color: "#065f46",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯПк", name: "ржмрж╛ржЬрж╛рж░" },
      { icon: "ЁЯЪМ", name: "ржмрж╛рж╕ рж╕рзНржЯрзНржпрж╛ржирзНржб" }
    ],
    x: 28,
    y: 30,
    category: "commercial",
    description: "рж╕рзНржерж╛ржирзАржпрж╝ ржмрж╛ржЬрж╛рж░ ржУ ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ ржХрзЗржирзНржжрзНрж░"
  },
  { 
    id: 5,
    name: "ржорж┐рж░ржкрзБрж░-рззрзз", 
    englishName: "Mirpur-11",
    code: "M11", 
    time: "рзо ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 8,
    landmark: "ржорж┐рж░ржкрзБрж░-рззрзз рж╕рж╛рж░рзНржХрзЗрж▓", 
    color: "#0891b2",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯПл", name: "рж╕рзНржХрзБрж▓" },
      { icon: "ЁЯПе", name: "ржХрзНрж▓рж┐ржирж┐ржХ" }
    ],
    x: 32,
    y: 38,
    category: "residential",
    description: "ржорж┐рж░ржкрзБрж░-рззрзз ржПрж░ ржкрзНрж░рж╛ржгржХрзЗржирзНржжрзНрж░"
  },
  { 
    id: 6,
    name: "ржорж┐рж░ржкрзБрж░-рззрзж", 
    englishName: "Mirpur-10",
    code: "M10", 
    time: "рззрзж ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 10,
    landmark: "ржорж┐рж░ржкрзБрж░-рззрзж ржЧрзЛрж▓ ржЪрждрзНржмрж░", 
    color: "#0e7490",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ рж╕рзЗржирзНржЯрж╛рж░" },
      { icon: "ЁЯПе", name: "рж╣рж╛рж╕ржкрж╛рждрж╛рж▓" },
      { icon: "ЁЯПж", name: "ржмрзНржпрж╛ржВржХ" },
      { icon: "ЁЯН╜я╕П", name: "рж░рзЗрж╕рзНрждрзЛрж░рж╛ржБ" }
    ],
    x: 35,
    y: 45,
    category: "major",
    description: "ржорж┐рж░ржкрзБрж░рзЗрж░ ржкрзНрж░ржзрж╛ржи ржХрзЗржирзНржжрзНрж░рж╕рзНржерж▓"
  },
  { 
    id: 7,
    name: "ржХрж╛ржЬрзАржкрж╛ржбрж╝рж╛", 
    englishName: "Kazipara",
    code: "KZ", 
    time: "рззрзи ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 12,
    landmark: "ржХрж╛ржЬрзАржкрж╛ржбрж╝рж╛ ржмрж╛рж╕ рж╕рзНржЯрзНржпрж╛ржирзНржб", 
    color: "#155e75",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯЪМ", name: "ржмрж╛рж╕ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓" }
    ],
    x: 38,
    y: 52,
    category: "transport",
    description: "ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржкрж░рж┐ржмрж╣ржи ржХрзЗржирзНржжрзНрж░"
  },
  { 
    id: 8,
    name: "рж╢рзЗржУржбрж╝рж╛ржкрж╛ржбрж╝рж╛", 
    englishName: "Shewrapara",
    code: "SP", 
    time: "рззрзк ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 14,
    landmark: "рж╢рзЗржУржбрж╝рж╛ржкрж╛ржбрж╝рж╛ ржорзЛржбрж╝", 
    color: "#164e63",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯПк", name: "ржжрзЛржХрж╛ржи" },
      { icon: "ЁЯПе", name: "ржХрзНрж▓рж┐ржирж┐ржХ" }
    ],
    x: 42,
    y: 58,
    category: "residential",
    description: "ржЖржмрж╛рж╕рж┐ржХ ржПрж▓рж╛ржХрж╛рж░ ржХрзЗржирзНржжрзНрж░ржмрж┐ржирзНржжрзБ"
  },
  { 
    id: 9,
    name: "ржЖржЧрж╛рж░ржЧрж╛ржБржУ", 
    englishName: "Agargaon",
    code: "AG", 
    time: "рззрзм ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 16,
    landmark: "ржЖржЧрж╛рж░ржЧрж╛ржБржУ ржкрзНрж░рж╢рж╛рж╕ржирж┐ржХ ржПрж▓рж╛ржХрж╛", 
    color: "#1e40af",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯПв", name: "ржЕржлрж┐рж╕" },
      { icon: "ЁЯПЫя╕П", name: "рж╕рж░ржХрж╛рж░рж┐ ржЕржлрж┐рж╕" }
    ],
    x: 48,
    y: 62,
    category: "administrative",
    description: "рж╕рж░ржХрж╛рж░рж┐ ржкрзНрж░рж╢рж╛рж╕ржирж┐ржХ ржПрж▓рж╛ржХрж╛"
  },
  { 
    id: 10,
    name: "ржмрж┐ржЬржпрж╝ рж╕рж░ржгрж┐", 
    englishName: "Bijoy Sarani",
    code: "BS", 
    time: "рззрзо ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 18,
    landmark: "ржмрж┐ржЬржпрж╝ рж╕рж░ржгрж┐ ржорзЛржбрж╝", 
    color: "#1d4ed8",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯПе", name: "рж╣рж╛рж╕ржкрж╛рждрж╛рж▓" },
      { icon: "ЁЯПк", name: "ржжрзЛржХрж╛ржи" }
    ],
    x: 52,
    y: 68,
    category: "commercial",
    description: "ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ ржУ ржЪрж┐ржХрж┐рзОрж╕рж╛ ржХрзЗржирзНржжрзНрж░"
  },
  { 
    id: 11,
    name: "ржлрж╛рж░рзНржоржЧрзЗржЯ", 
    englishName: "Farmgate",
    code: "FG", 
    time: "рзирзж ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 20,
    landmark: "ржлрж╛рж░рзНржоржЧрзЗржЯ ржорзЛржбрж╝", 
    color: "#7c3aed",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ рж╕рзЗржирзНржЯрж╛рж░" },
      { icon: "ЁЯПв", name: "ржЕржлрж┐рж╕" },
      { icon: "ЁЯПж", name: "ржмрзНржпрж╛ржВржХ" },
      { icon: "ЁЯН╜я╕П", name: "рж░рзЗрж╕рзНрждрзЛрж░рж╛ржБ" }
    ],
    x: 58,
    y: 72,
    category: "major",
    description: "ржврж╛ржХрж╛рж░ ржкрзНрж░ржзрж╛ржи ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ ржХрзЗржирзНржжрзНрж░"
  },
  { 
    id: 12,
    name: "ржХрж╛рж░ржУржпрж╝рж╛ржи ржмрж╛ржЬрж╛рж░", 
    englishName: "Karwan Bazar",
    code: "KB", 
    time: "рзирзи ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 22,
    landmark: "ржХрж╛рж░ржУржпрж╝рж╛ржи ржмрж╛ржЬрж╛рж░ ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ ржПрж▓рж╛ржХрж╛", 
    color: "#8b5cf6",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "ржкрж╛ржЗржХрж╛рж░рж┐ ржмрж╛ржЬрж╛рж░" },
      { icon: "ЁЯПв", name: "ржЕржлрж┐рж╕" },
      { icon: "ЁЯПк", name: "ржжрзЛржХрж╛ржи" },
      { icon: "ЁЯУ║", name: "ржорж┐ржбрж┐ржпрж╝рж╛" }
    ],
    x: 65,
    y: 78,
    category: "commercial",
    description: "ржкрж╛ржЗржХрж╛рж░рж┐ ржУ ржорж┐ржбрж┐ржпрж╝рж╛ ржХрзЗржирзНржжрзНрж░"
  },
  { 
    id: 13,
    name: "рж╢рж╛рж╣ржмрж╛ржЧ", 
    englishName: "Shahbagh",
    code: "SB", 
    time: "рзирзк ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 24,
    landmark: "рж╢рж╛рж╣ржмрж╛ржЧ ржорзЛржбрж╝", 
    color: "#a855f7",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯПЫя╕П", name: "ржЬрж╛ржжрзБржШрж░" },
      { icon: "ЁЯМ│", name: "ржЙржжрзНржпрж╛ржи" }
    ],
    x: 70,
    y: 82,
    category: "cultural",
    description: "рж╕рж╛ржВрж╕рзНржХрзГрждрж┐ржХ ржУ ржРрждрж┐рж╣рж╛рж╕рж┐ржХ ржПрж▓рж╛ржХрж╛"
  },
  { 
    id: 14,
    name: "ржврж╛ржХрж╛ ржмрж┐рж╢рзНржмржмрж┐ржжрзНржпрж╛рж▓ржпрж╝", 
    englishName: "Dhaka University",
    code: "DU", 
    time: "рзирзм ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 26,
    landmark: "ржврж╛ржХрж╛ ржмрж┐рж╢рзНржмржмрж┐ржжрзНржпрж╛рж▓ржпрж╝", 
    color: "#c084fc",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯПл", name: "ржмрж┐рж╢рзНржмржмрж┐ржжрзНржпрж╛рж▓ржпрж╝" },
      { icon: "ЁЯУЪ", name: "рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐" },
      { icon: "ЁЯН╜я╕П", name: "ржХрзНржпрж╛ржлрзЗржЯрзЗрж░рж┐ржпрж╝рж╛" }
    ],
    x: 75,
    y: 88,
    category: "educational",
    description: "ржжрзЗрж╢рзЗрж░ ржкрзНрж░ржзрж╛ржи рж╢рж┐ржХрзНрж╖рж╛ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи"
  },
  { 
    id: 15,
    name: "ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ рж╕ржЪрж┐ржмрж╛рж▓ржпрж╝", 
    englishName: "Bangladesh Secretariat",
    code: "BDS", 
    time: "рзирзо ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 28,
    landmark: "рж╕рж░ржХрж╛рж░рж┐ рж╕ржЪрж┐ржмрж╛рж▓ржпрж╝", 
    color: "#dc2626",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ" },
      { icon: "ЁЯПв", name: "рж╕рж░ржХрж╛рж░рж┐ ржЕржлрж┐рж╕" },
      { icon: "ЁЯПЫя╕П", name: "рж╕ржЪрж┐ржмрж╛рж▓ржпрж╝" }
    ],
    x: 80,
    y: 92,
    category: "government",
    description: "рж╕рж░ржХрж╛рж░рзЗрж░ ржкрзНрж░ржзрж╛ржи ржХрж╛рж░рзНржпрж╛рж▓ржпрж╝"
  },
  { 
    id: 16,
    name: "ржорждрж┐ржЭрж┐рж▓", 
    englishName: "Motijheel",
    code: "MJ", 
    time: "рзйрзж ржорж┐ржирж┐ржЯ", 
    timeInMinutes: 30,
    landmark: "ржорждрж┐ржЭрж┐рж▓ ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ ржПрж▓рж╛ржХрж╛", 
    color: "#ef4444",
    facilities: [
      { icon: "ЁЯЪ╗", name: "рж░рзЗрж╕рзНржЯ рж░рзБржо" },
      { icon: "ЁЯЫТ", name: "рж╢ржкрж┐ржВ рж╕рзЗржирзНржЯрж╛рж░" },
      { icon: "ЁЯПв", name: "ржЕржлрж┐рж╕" },
      { icon: "ЁЯПж", name: "ржмрзНржпрж╛ржВржХ" },
      { icon: "ЁЯПи", name: "рж╣рзЛржЯрзЗрж▓" }
    ],
    x: 85,
    y: 95,
    category: "financial",
    description: "ржврж╛ржХрж╛рж░ ржЖрж░рзНржерж┐ржХ ржХрзЗржирзНржжрзНрж░"
  }
];

const ticketPrices = [
  { distance: "рзз-рзл ржХрж┐ржорж┐", price: "рзирзж ржЯрж╛ржХрж╛" },
  { distance: "рзл-рззрзж ржХрж┐ржорж┐", price: "рзйрзж ржЯрж╛ржХрж╛" },
  { distance: "рззрзж-рззрзл ржХрж┐ржорж┐", price: "рзкрзж ржЯрж╛ржХрж╛" },
  { distance: "рззрзл-рзирзж ржХрж┐ржорж┐", price: "рзмрзж ржЯрж╛ржХрж╛" },
  { distance: "рзирзж+ ржХрж┐ржорж┐", price: "рззрзжрзж ржЯрж╛ржХрж╛" }
];

export default function DhakaMetroMap() {
  const [selectedStation, setSelectedStation] = useState(null);
  const [currentTime, setCurrentTime] = useState(new Date());
  const [animatedTrain, setAnimatedTrain] = useState(0);
  const [isPlaying, setIsPlaying] = useState(true);
  const [hoveredStation, setHoveredStation] = useState(null);
  const [showTicketInfo, setShowTicketInfo] = useState(false);
  const [routeFrom, setRouteFrom] = useState(null);
  const [routeTo, setRouteTo] = useState(null);

  useEffect(() => {
    const timer = setInterval(() => {
      setCurrentTime(new Date());
    }, 1000);

    let trainTimer;
    if (isPlaying) {
      trainTimer = setInterval(() => {
        setAnimatedTrain((prev) => (prev + 1) % stations.length);
      }, 1500);
    }

    return () => {
      clearInterval(timer);
      if (trainTimer) clearInterval(trainTimer);
    };
  }, [isPlaying]);

  const createPath = () => {
    const pathData = stations.map((station, index) => {
      const command = index === 0 ? 'M' : 'L';
      return `${command} ${station.x} ${station.y}`;
    }).join(' ');
    return pathData;
  };

  const calculateTravelTime = (from, to) => {
    if (!from || !to) return null;
    const timeDiff = Math.abs(to.timeInMinutes - from.timeInMinutes);
    const price = timeDiff <= 5 ? 20 : timeDiff <= 10 ? 30 : timeDiff <= 15 ? 40 : timeDiff <= 20 ? 60 : 100;
    return { time: timeDiff, price };
  };

  const travelInfo = calculateTravelTime(routeFrom, routeTo);

  return (
    <div className="min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 relative overflow-hidden">
      {/* Animated Background */}
      {/* <div className="absolute inset-0 overflow-hidden">
        <div className="absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full opacity-10 animate-pulse"></div>
        <div className="absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full opacity-10 animate-pulse"></div>
        <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-teal-500 rounded-full opacity-5 animate-ping"></div>
      </div> */}

      {/* Floating particles */}
      <div className="absolute inset-0 overflow-hidden pointer-events-none">
        {[...Array(20)].map((_, i) => (
          <div
            key={i}
            className="absolute w-2 h-2 bg-white rounded-full opacity-20"
            style={{
              left: `${Math.random() * 100}%`,
              top: `${Math.random() * 100}%`,
              animation: `float ${3 + Math.random() * 4}s ease-in-out infinite`,
              animationDelay: `${Math.random() * 5}s`
            }}
          />
        ))}
      </div>

      {/* Header */}
      <div className="relative z-10 pt-6 pb-4">
        <div className="max-w-7xl mx-auto px-4 sm:px-6">
          <div className="text-center">
            <h1 className="text-4xl sm:text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 mb-3 drop-shadow-lg">
              ЁЯЪЗ ржврж╛ржХрж╛ ржорзЗржЯрзНрж░рзЛ рж░рзЗрж▓
            </h1>
            <p className="text-xl text-gray-300 mb-2">
              MRT-6 ржЗржирзНржЯрж╛рж░рзЗржХрзНржЯрж┐ржн ржпрж╛рждрзНрж░рж╛ ржЧрж╛ржЗржб
            </p>
            <p className="text-sm text-gray-400 mb-6">
              рж╕рзНржЯрзЗрж╢ржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи тАв рж░рзБржЯ ржкрж░рж┐ржХрж▓рзНржкржирж╛ ржХрж░рзБржи тАв рж░рж┐ржпрж╝рзЗрж▓ ржЯрж╛ржЗржо рждржерзНржп ржкрж╛ржи
            </p>
            
            {/* Live Info Dashboard */}
            <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 max-w-4xl mx-auto">
              <div className="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4 text-center">
                <div className="flex items-center justify-center gap-2 mb-2">
                  <RiLiveLine className="text-red-400 w-5 h-5 animate-pulse" />
                  <span className="text-sm font-semibold text-white">рж▓рж╛ржЗржн рж╕ржоржпрж╝</span>
                </div>
                <div className="text-lg font-bold text-cyan-400">
                  {currentTime.toLocaleTimeString('bn-BD')}
                </div>
              </div>
              
              <div className="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4 text-center">
                <div className="flex items-center justify-center gap-2 mb-2">
                  <MdTrain className="text-green-400 w-5 h-5" />
                  <span className="text-sm font-semibold text-white">рж╕рзНржЯрзЗрж╢ржи</span>
                </div>
                <div className="text-lg font-bold text-green-400">рззрзмржЯрж┐</div>
              </div>
              
              <div className="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4 text-center">
                <div className="flex items-center justify-center gap-2 mb-2">
                  <IoTime className="text-blue-400 w-5 h-5" />
                  <span className="text-sm font-semibold text-white">рж╕ржоржпрж╝</span>
                </div>
                <div className="text-lg font-bold text-blue-400">рзйрзж ржорж┐ржирж┐ржЯ</div>
              </div>
              
              <div className="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4 text-center">
                <div className="flex items-center justify-center gap-2 mb-2">
                  <IoSpeedometer className="text-purple-400 w-5 h-5" />
                  <span className="text-sm font-semibold text-white">ржЧрждрж┐</span>
                </div>
                <div className="text-lg font-bold text-purple-400">рзорзж ржХрж┐ржорж┐/ржШ</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Main Content */}
      <div className="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 pb-8">
        <div className="grid grid-cols-1 lg:grid-cols-4 gap-6">
          
          {/* Left Sidebar - Controls */}
          <div className="lg:col-span-1 space-y-4">
            {/* Animation Control */}
            {/* <div className="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4">
              <h3 className="text-lg font-bold text-white mb-3 flex items-center gap-2">
                <MdDirectionsTransit className="text-cyan-400" />
                ржЯрзНрж░рзЗржи ржирж┐ржпрж╝ржирзНрждрзНрж░ржг
              </h3>
              <button
                onClick={() => setIsPlaying(!isPlaying)}
                className={`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold transition-all ${
                  isPlaying 
                    ? 'bg-red-500 hover:bg-red-600 text-white' 
                    : 'bg-green-500 hover:bg-green-600 text-white'
                }`}
              >
                {isPlaying ? <FaPause /> : <FaPlay />}
                {isPlaying ? 'ржмрж┐рж░рждрж┐' : 'ржЪрж╛рж▓рзБ'}
              </button>
            </div> */}

            {/* Route Planner */}
            <div className="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4">
              <h3 className="text-lg font-bold text-white mb-3 flex items-center gap-2">
                <IoNavigate className="text-blue-400" />
                рж░рзБржЯ ржкрж░рж┐ржХрж▓рзНржкржирж╛
              </h3>
              <div className="space-y-3">
                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-1">рж╢рзБрж░рзБ</label>
                  <select 
                    value={routeFrom?.id || ''} 
                    onChange={(e) => setRouteFrom(stations.find(s => s.id === parseInt(e.target.value)))}
                    className="w-full bg-white/20 border border-white/30 rounded-lg px-3 py-2 text-white text-sm"
                  >
                    <option value="">рж╕рзНржЯрзЗрж╢ржи ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>
                    {stations.map(station => (
                      <option key={station.id} value={station.id} className="text-black">
                        {station.name}
                      </option>
                    ))}
                  </select>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-300 mb-1">ржЧржирзНрждржмрзНржп</label>
                  <select 
                    value={routeTo?.id || ''} 
                    onChange={(e) => setRouteTo(stations.find(s => s.id === parseInt(e.target.value)))}
                    className="w-full bg-white/20 border border-white/30 rounded-lg px-3 py-2 text-white text-sm"
                  >
                    <option value="">рж╕рзНржЯрзЗрж╢ржи ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>
                    {stations.map(station => (
                      <option key={station.id} value={station.id} className="text-black">
                        {station.name}
                      </option>
                    ))}
                  </select>
                </div>
                
                {travelInfo && (
                  <div className="bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg p-3 border border-cyan-400/30">
                    <div className="flex justify-between items-center">
                      <span className="text-sm text-gray-300">рж╕ржоржпрж╝:</span>
                      <span className="font-bold text-cyan-400">{travelInfo.time} ржорж┐ржирж┐ржЯ</span>
                    </div>
                    <div className="flex justify-between items-center mt-1">
                      <span className="text-sm text-gray-300">ржнрж╛ржбрж╝рж╛:</span>
                      <span className="font-bold text-green-400">{travelInfo.price} ржЯрж╛ржХрж╛</span>
                    </div>
                  </div>
                )}
              </div>
            </div>

            {/* Current Train Location */}
            <div className="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4">
              <h3 className="text-lg font-bold text-white mb-3 flex items-center gap-2">
                <FaTrain className="text-yellow-400" />
                рж╖рзНржЯрзЗрж╢ржи рж╕ржорзВрж╣
              </h3>
              <div className="text-center">
                <div className="w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-2">
                  <span className="text-white font-bold">{stations[animatedTrain].code}</span>
                </div>
                <p className="text-white font-semibold">{stations[animatedTrain].name}</p>
                <p className="text-gray-300 text-sm">{stations[animatedTrain].landmark}</p>
              </div>
            </div>

            {/* Ticket Prices */}
            <div className="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4">
              <h3 className="text-lg font-bold text-white mb-3 flex items-center gap-2">
                <FaInfoCircle className="text-green-400" />
                ржнрж╛ржбрж╝рж╛рж░ рждрж╛рж▓рж┐ржХрж╛
              </h3>
              <div className="space-y-2">
                                {ticketPrices.map((item, index) => (
                  <div key={index} className="flex justify-between items-center py-1 border-b border-white/10">
                    <span className="text-sm text-gray-300">{item.distance}</span>
                    <span className="text-sm font-semibold text-green-400">{item.price}</span>
                  </div>
                ))}
                <button 
                  onClick={() => setShowTicketInfo(!showTicketInfo)}
                  className="mt-2 text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1"
                >
                  <FaInfoCircle /> {showTicketInfo ? 'ржХржо ржжрзЗржЦрж╛ржи' : 'ржЖрж░ржУ рждржерзНржп'}
                </button>
                {showTicketInfo && (
                  <div className="mt-2 p-2 bg-black/20 rounded-lg text-xs text-gray-300">
                    <p>тАв рж╢рж┐рж╢рзБ (рзй-рззрзж ржмржЫрж░): рзлрзж% ржЫрж╛ржбрж╝</p>
                    <p>тАв ржкрзНрж░рждрж┐ржмржирзНржзрзА: рзнрзл% ржЫрж╛ржбрж╝</p>
                    <p>тАв рж╕рж┐ржирж┐ржпрж╝рж░ рж╕рж┐ржЯрж┐ржЬрзЗржи: рзлрзж% ржЫрж╛ржбрж╝</p>
                  </div>
                )}
              </div>
            </div>
          </div>

          {/* Main Map Area */}
          <div className="lg:col-span-3">
            <div className="relative bg-white/5 backdrop-blur-md border-2 border-white/20 rounded-2xl overflow-hidden p-4 h-[600px]">
              {/* Metro Line Path */}
              <svg 
                viewBox="0 0 100 100" 
                preserveAspectRatio="xMidYMid meet" 
                className="w-full h-full"
              >
                {/* Metro Line */}
                <path
                  d={createPath()}
                  fill="none"
                  stroke="currentColor"
                  strokeWidth="0.5"
                  strokeDasharray="0.5,0.5"
                  className="text-gray-500"
                />

                {/* Station Circles */}
                {stations.map((station, index) => (
                  <g key={station.id}>
                    {/* Connection lines for hover effect */}
                    {hoveredStation === station.id && (
                      <line
                        x1={station.x}
                        y1={station.y}
                        x2={50}
                        y2={50}
                        stroke="rgba(255,255,255,0.1)"
                        strokeWidth="0.3"
                        strokeDasharray="0.2,0.2"
                      />
                    )}

                    {/* Station circle */}
                    <circle
                      cx={station.x}
                      cy={station.y}
                      r={selectedStation?.id === station.id ? 1.8 : hoveredStation === station.id ? 1.5 : 1.2}
                      fill={station.color}
                      stroke="white"
                      strokeWidth="0.1"
                      onClick={() => setSelectedStation(station)}
                      onMouseEnter={() => setHoveredStation(station.id)}
                      onMouseLeave={() => setHoveredStation(null)}
                      className="cursor-pointer transition-all duration-200 hover:opacity-90"
                    />

                    {/* Station code label */}
                    <text
                      x={station.x}
                      y={station.y + 0.3}
                      textAnchor="middle"
                      fontSize="1.5"
                      fill="white"
                      className="pointer-events-none font-bold"
                    >
                      {station.code}
                    </text>

                    {/* Animated train */}
                    {animatedTrain === index && (
                      <circle
                        cx={station.x}
                        cy={station.y}
                        r="1"
                        fill="white"
                        className="animate-ping opacity-75"
                      />
                    )}
                  </g>
                ))}

                {/* Animated train icon */}
                {stations[animatedTrain] && (
                  <g transform={`translate(${stations[animatedTrain].x},${stations[animatedTrain].y})`}>
                    <FaTrain 
                      className="text-yellow-400" 
                      fontSize="2" 
                      x="-1" 
                      y="-1"
                    />
                  </g>
                )}
              </svg>

              {/* Legend */}
              <div className="absolute bottom-4 left-4 bg-black/70 backdrop-blur-sm rounded-lg p-2 text-xs">
                <div className="flex items-center gap-2 mb-1">
                  <div className="w-3 h-3 rounded-full bg-green-500"></div>
                  <span className="text-white">ржЙрждрзНрждрж░рж╛ рж▓рж╛ржЗржи</span>
                </div>
                <div className="flex items-center gap-2 mb-1">
                  <div className="w-3 h-3 rounded-full bg-blue-500"></div>
                  <span className="text-white">ржорж┐рж░ржкрзБрж░ рж▓рж╛ржЗржи</span>
                </div>
                <div className="flex items-center gap-2">
                  <div className="w-3 h-3 rounded-full bg-purple-500"></div>
                  <span className="text-white">рж╕рж┐ржЯрж┐ рж▓рж╛ржЗржи</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Selected Station Details */}
        {selectedStation && (
          <div className="mt-6 bg-gradient-to-r from-cyan-900/50 to-blue-900/50 backdrop-blur-md rounded-2xl border border-white/20 overflow-hidden">
            <div className="p-4">
              <div className="flex justify-between items-start">
                <div>
                  <h2 className="text-2xl font-bold text-white flex items-center gap-2">
                    <span className="w-4 h-4 rounded-full" style={{ backgroundColor: selectedStation.color }}></span>
                    {selectedStation.name}
                    <span className="text-sm font-normal text-gray-300">({selectedStation.englishName})</span>
                  </h2>
                  <p className="text-gray-300">{selectedStation.landmark}</p>
                </div>
                <button 
                  onClick={() => setSelectedStation(null)}
                  className="text-gray-400 hover:text-white"
                >
                  <FaTimes />
                </button>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                <div className="bg-white/10 rounded-lg p-3">
                  <h3 className="text-sm font-semibold text-gray-300 mb-2 flex items-center gap-1">
                    <FaClock /> рж╕ржоржпрж╝ рждржерзНржп
                  </h3>
                  <div className="space-y-1">
                    <p className="flex justify-between">
                      <span className="text-gray-400">рж╕рзНржЯрзЗрж╢ржи ржХрзЛржб:</span>
                      <span className="font-medium text-white">{selectedStation.code}</span>
                    </p>
                    <p className="flex justify-between">
                      <span className="text-gray-400">ржорзЛржЯ рж╕ржоржпрж╝:</span>
                      <span className="font-medium text-white">{selectedStation.time}</span>
                    </p>
                    <p className="flex justify-between">
                      <span className="text-gray-400">рж╕рзНржЯрзЗрж╢ржи ржзрж░ржи:</span>
                      <span className="font-medium text-white capitalize">
                        {selectedStation.category === 'major' ? 'ржкрзНрж░ржзрж╛ржи рж╕рзНржЯрзЗрж╢ржи' : 
                         selectedStation.category === 'commercial' ? 'ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ' :
                         selectedStation.category === 'residential' ? 'ржЖржмрж╛рж╕рж┐ржХ' :
                         selectedStation.category === 'government' ? 'рж╕рж░ржХрж╛рж░рж┐' :
                         selectedStation.category === 'educational' ? 'рж╢рж┐ржХрзНрж╖рж╛' : 
                         selectedStation.category}
                      </span>
                    </p>
                  </div>
                </div>

                <div className="bg-white/10 rounded-lg p-3">
                  <h3 className="text-sm font-semibold text-gray-300 mb-2 flex items-center gap-1">
                    <FaMapMarkerAlt /> рж▓рзНржпрж╛ржирзНржбржорж╛рж░рзНржХ
                  </h3>
                  <p className="text-white mb-3">{selectedStation.description}</p>
                  <div className="flex flex-wrap gap-2">
                    {selectedStation.facilities.map((facility, index) => (
                      <span 
                        key={index} 
                        className="text-xs bg-white/10 rounded-full px-2 py-1 flex items-center gap-1"
                      >
                        {facility.icon} {facility.name}
                      </span>
                    ))}
                  </div>
                </div>

                <div className="bg-white/10 rounded-lg p-3">
                  <h3 className="text-sm font-semibold text-gray-300 mb-2 flex items-center gap-1">
                    <FaRoute /> рж╕ржВржпрзЛржЧ
                  </h3>
                  <div className="space-y-2">
                    <div className="flex items-center gap-2">
                      <div className="w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs">
                        B
                      </div>
                      <span className="text-white">ржмрж╛рж╕ рж╕рзНржЯрзНржпрж╛ржирзНржб (200m)</span>
                    </div>
                    <div className="flex items-center gap-2">
                      <div className="w-6 h-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">
                        R
                      </div>
                      <span className="text-white">рж░рж┐ржХрж╢рж╛ рж╕рзНржЯрзНржпрж╛ржирзНржб (100m)</span>
                    </div>
                    <div className="flex items-center gap-2">
                      <div className="w-6 h-6 rounded-full bg-yellow-500 flex items-center justify-center text-white text-xs">
                        T
                      </div>
                      <span className="text-white">ржЯрзНржпрж╛ржХрзНрж╕рж┐ рж╕рзНржЯрзНржпрж╛ржирзНржб (300m)</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        )}
      </div>

      {/* Footer */}
      <div className="relative z-10 py-6 text-center text-gray-400 text-sm">
        <p>┬й 2023 ржврж╛ржХрж╛ ржорзНржпрж╛рж╕ ржЯрзНрж░рж╛ржиржЬрж┐ржЯ ржХрзЛржорзНржкрж╛ржирж┐ рж▓рж┐ржорж┐ржЯрзЗржб (ржбрж┐ржПржоржЯрж┐рж╕рж┐ржПрж▓)</p>
        <p className="mt-1">рж╕ржорж╕рзНржд ржЕржзрж┐ржХрж╛рж░ рж╕ржВрж░ржХрзНрж╖рж┐ржд | рж╕ржВрж╕рзНржХрж░ржг 1.0.0</p>
      </div>

      {/* Animation styles */}
      <style jsx global>{`
        @keyframes float {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
      `}</style>
    </div>
  );
}